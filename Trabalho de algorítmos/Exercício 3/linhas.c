//-----------------------------------------Bibliotecas-----------------------------------------
#include <stdio.h>
//---------------------------------------------------------------------------------------------

//-----------------------------------------Função main-----------------------------------------
int main()
{
	int L,C,i,j,k,l=0,n=1,sub,p,o,z,sm=0,v=0,ga=0,M;
//==================================Recebe os dados da matriz==================================
	printf("Informe o tamanho da matriz, linha e coluna: ");
	scanf("%d%d",&L,&C);
	int ma[L][C];
	
	for(i=0;i<L;i++)
	{
		for(j=0;j<C;j++)
		{
			printf("\nDigite o termo da %d linha e %d coluna da matriz: ",i+1,j+1);
			scanf("%d",&ma[i][j]);
		}
	}
	printf("\n");
	M=L*C;
//=============================================================================================

//=======================================Printa a matriz=======================================
	for(i=0;i<L;i++)
	{
		for(j=0;j<C;j++)
		{
			printf("%d\t",ma[i][j]);
		}
		printf("\n");
	}
	printf("\n");
//=============================================================================================

//====================================Permutações linha========================================
	for(i=0;i<L;i++)//i=1
	{
		for(o=0;o<C;o++)//o=2
		{
			if(ma[i][0]==o+1)//ma[1][0]==0+1+(3*1)
			{
				for(o=0;o<L;o++)//o=3
				{
					for(i=0;i<L;i++)//i=5
					{
						for(j=0;j<C;j++)//j=0
						{
							for(p=0;p<C;p++)//p=0
							{	
								if(ma[i][j]==p+1+(C*o))//ma[0][0]==0+1+(C*3),ma[5][0]==0+1+(C*2)
								{		
				   					sub = ma[o][j];//sub = ma[3][0]
									ma[o][j] = ma[i][j];//ma[3][0] = ma[5][0]
									ma[i][j] = sub;//ma[5][0] = sub	
									sm++;
								}
							}
						}
					}
				}	
//======================================Permutação coluna======================================		
				for(i=0;i<L;i++)
				{
					for(j=0;j<C;j++)
					{
						for(p=0;p<C;p++)
						{
							if(ma[i][j]==(ma[i][j+p]+1))
							{
								sub=ma[i][j];
								ma[i][j]=ma[i][j+p];
								ma[i][j+p]=sub;
								sm++;
							}
						}
					}
				}
				sm=sm/(L+C);
			 }
			 else
			 v++;		
		}	
	}
//=============================================================================================

//===============================Printa a matriz permutada=====================================
	if(v<M)
	{
		for(i=0;i<L;i++)
		{
			for(j=0;j<C;j++)
			{
				printf("%d\t",ma[i][j]);
			}
			printf("\n");
		}
		printf("\n");
		printf("Ocorreram %d permutações.\n",sm);
	}
	else 
		printf("Ocorreram * permutações(Impossível permutar)\n");
//=============================================================================================
return 0;
}
//---------------------------------------------------------------------------------------------

	

